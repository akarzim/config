(function(g){function m(d,c,a,e,b){var h=d-1,f=b==="x"?0:1;d>0?(d=e.series[h]._plotData[c][f],c=a*d<0?m(h,c,a,e,b):e.series[h].gridData[c][f]):c=f===0?e.series[d]._xaxis.series_u2p(0):e.series[d]._yaxis.series_u2p(0);return c}function q(){for(var d=0;d<this.series.length;d++)if(this.series[d].renderer.constructor==g.jqplot.BarRenderer&&this.series[d].highlightMouseOver)this.series[d].highlightMouseDown=!1}function r(){if(this.plugins.barRenderer&&this.plugins.barRenderer.highlightCanvas)this.plugins.barRenderer.highlightCanvas.resetCanvas(),
this.plugins.barRenderer.highlightCanvas=null;this.plugins.barRenderer={highlightedSeriesIndex:null};this.plugins.barRenderer.highlightCanvas=new g.jqplot.GenericCanvas;this.eventCanvas._elem.before(this.plugins.barRenderer.highlightCanvas.createElement(this._gridPadding,"jqplot-barRenderer-highlight-canvas",this._plotDimensions,this));this.plugins.barRenderer.highlightCanvas.setContext();this.eventCanvas._elem.bind("mouseleave",{plot:this},function(d){j(d.data.plot)})}function p(d,c,a,e){var b=d.series[c],
h=d.plugins.barRenderer.highlightCanvas;h._ctx.clearRect(0,0,h._ctx.canvas.width,h._ctx.canvas.height);b._highlightedPoint=a;d.plugins.barRenderer.highlightedSeriesIndex=c;b.renderer.shapeRenderer.draw(h._ctx,e,{fillStyle:b.highlightColors[a]})}function j(d){var c=d.plugins.barRenderer.highlightCanvas;c._ctx.clearRect(0,0,c._ctx.canvas.width,c._ctx.canvas.height);for(c=0;c<d.series.length;c++)d.series[c]._highlightedPoint=null;d.plugins.barRenderer.highlightedSeriesIndex=null;d.target.trigger("jqplotDataUnhighlight")}
function s(d,c,a,e,b){if(e){if(c=[e.seriesIndex,e.pointIndex,e.data],a=jQuery.Event("jqplotDataMouseOver"),a.pageX=d.pageX,a.pageY=d.pageY,b.target.trigger(a,c),b.series[c[0]].highlightMouseOver&&!(c[0]==b.plugins.barRenderer.highlightedSeriesIndex&&c[1]==b.series[c[0]]._highlightedPoint))a=jQuery.Event("jqplotDataHighlight"),a.which=d.which,a.pageX=d.pageX,a.pageY=d.pageY,b.target.trigger(a,c),p(b,e.seriesIndex,e.pointIndex,e.points)}else e==null&&j(b)}function t(d,c,a,e,b){if(e){if(c=[e.seriesIndex,
e.pointIndex,e.data],b.series[c[0]].highlightMouseDown&&!(c[0]==b.plugins.barRenderer.highlightedSeriesIndex&&c[1]==b.series[c[0]]._highlightedPoint))a=jQuery.Event("jqplotDataHighlight"),a.which=d.which,a.pageX=d.pageX,a.pageY=d.pageY,b.target.trigger(a,c),p(b,e.seriesIndex,e.pointIndex,e.points)}else e==null&&j(b)}function u(d,c,a,e,b){d=b.plugins.barRenderer.highlightedSeriesIndex;d!=null&&b.series[d].highlightMouseDown&&j(b)}function v(d,c,a,e,b){if(e)c=[e.seriesIndex,e.pointIndex,e.data],a=jQuery.Event("jqplotDataClick"),
a.which=d.which,a.pageX=d.pageX,a.pageY=d.pageY,b.target.trigger(a,c)}function w(d,c,a,e,b){if(e)c=[e.seriesIndex,e.pointIndex,e.data],a=b.plugins.barRenderer.highlightedSeriesIndex,a!=null&&b.series[a].highlightMouseDown&&j(b),a=jQuery.Event("jqplotDataRightClick"),a.which=d.which,a.pageX=d.pageX,a.pageY=d.pageY,b.target.trigger(a,c)}g.jqplot.BarRenderer=function(){g.jqplot.LineRenderer.call(this)};g.jqplot.BarRenderer.prototype=new g.jqplot.LineRenderer;g.jqplot.BarRenderer.prototype.constructor=
g.jqplot.BarRenderer;g.jqplot.BarRenderer.prototype.init=function(d,c){this.barPadding=8;this.barMargin=10;this.barDirection="vertical";this.barWidth=null;this.shadowOffset=2;this.shadowDepth=5;this.shadowAlpha=0.08;this.waterfall=!1;this.groups=1;this.varyBarColor=!1;this.highlightMouseOver=!0;this.highlightMouseDown=!1;this.highlightColors=[];this.transposedData=!0;this.renderer.animation={show:!1,direction:"down",speed:3E3,_supported:!0};this._type="bar";if(d.highlightMouseDown&&d.highlightMouseOver==
null)d.highlightMouseOver=!1;g.extend(!0,this,d);g.extend(!0,this.renderer,d);this.fill=!0;if(this.barDirection==="horizontal"&&this.rendererOptions.animation&&this.rendererOptions.animation.direction==null)this.renderer.animation.direction="left";if(this.waterfall)this.fillToZero=!1,this.disableStack=!0;this.barDirection=="vertical"?(this._primaryAxis="_xaxis",this.fillAxis=this._stackAxis="y"):(this._primaryAxis="_yaxis",this.fillAxis=this._stackAxis="x");this._plotSeriesInfo=this._highlightedPoint=
null;this._dataColors=[];this._barPoints=[];this.renderer.shapeRenderer.init({lineJoin:"miter",lineCap:"round",fill:!0,isarc:!1,strokeStyle:this.color,fillStyle:this.color,closePath:this.fill});this.renderer.shadowRenderer.init({lineJoin:"miter",lineCap:"round",fill:!0,isarc:!1,angle:this.shadowAngle,offset:this.shadowOffset,alpha:this.shadowAlpha,depth:this.shadowDepth,closePath:this.fill});c.postInitHooks.addOnce(q);c.postDrawHooks.addOnce(r);c.eventListenerHooks.addOnce("jqplotMouseMove",s);c.eventListenerHooks.addOnce("jqplotMouseDown",
t);c.eventListenerHooks.addOnce("jqplotMouseUp",u);c.eventListenerHooks.addOnce("jqplotClick",v);c.eventListenerHooks.addOnce("jqplotRightClick",w)};g.jqplot.preSeriesInitHooks.push(function(){if(this.rendererOptions.barDirection=="horizontal")this._stackAxis="x",this._primaryAxis="_yaxis";if(this.rendererOptions.waterfall==!0){this._data=g.extend(!0,[],this.data);for(var d=0,c=!this.rendererOptions.barDirection||this.rendererOptions.barDirection==="vertical"||this.transposedData===!1?1:0,a=0;a<this.data.length;a++)d+=
this.data[a][c],a>0&&(this.data[a][c]+=this.data[a-1][c]);this.data[this.data.length]=c==1?[this.data.length+1,d]:[d,this.data.length+1];this._data[this._data.length]=c==1?[this._data.length+1,d]:[d,this._data.length+1]}if(this.rendererOptions.groups>1){this.breakOnNull=!0;for(var d=this.data.length,c=parseInt(d/this.rendererOptions.groups,10),e=0,a=c;a<d;a+=c)this.data.splice(a+e,0,[null,null]),this._plotData.splice(a+e,0,[null,null]),this._stackData.splice(a+e,0,[null,null]),e++;for(a=0;a<this.data.length;a++)this._primaryAxis==
"_xaxis"?(this.data[a][0]=a+1,this._plotData[a][0]=a+1,this._stackData[a][0]=a+1):(this.data[a][1]=a+1,this._plotData[a][1]=a+1,this._stackData[a][1]=a+1)}});g.jqplot.BarRenderer.prototype.calcSeriesNumbers=function(){for(var d=0,c=0,a=this[this._primaryAxis],e,b,h=0;h<a._series.length;h++)e=a._series[h],e===this&&(b=h),e.renderer.constructor==g.jqplot.BarRenderer&&(d+=e.data.length,c+=1);return[d,c,b]};g.jqplot.BarRenderer.prototype.setBarWidth=function(){var d=0,c=0,a=this[this._primaryAxis],c=
this._plotSeriesInfo=this.renderer.calcSeriesNumbers.call(this),d=c[0],c=c[1],e=(a.numberTicks-1)/2;this.barWidth=a.name=="xaxis"||a.name=="x2axis"?this._stack?(a._offsets.max-a._offsets.min)/d*c-this.barMargin:((a._offsets.max-a._offsets.min)/e-this.barPadding*(c-1)-this.barMargin*2)/c:this._stack?(a._offsets.min-a._offsets.max)/d*c-this.barMargin:((a._offsets.min-a._offsets.max)/e-this.barPadding*(c-1)-this.barMargin*2)/c;return[d,c]};g.jqplot.BarRenderer.prototype.draw=function(d,c,a,e){var b,
a=g.extend({},a),h=a.shadow!=void 0?a.shadow:this.shadow;b=a.showLine!=void 0?a.showLine:this.showLine;this._dataColors=[];this._barPoints=[];this.barWidth==null&&this.renderer.setBarWidth.call(this);var f=this._plotSeriesInfo=this.renderer.calcSeriesNumbers.call(this),n=f[1],l=f[2],f=[];this._barNudge=this._stack?0:(-Math.abs(n/2-0.5)+l)*(this.barWidth+this.barPadding);if(b){var n=new g.jqplot.ColorGenerator(this.negativeSeriesColors),l=new g.jqplot.ColorGenerator(this.seriesColors),k=n.get(this.index);
if(!this.useNegativeColors)k=a.fillStyle;var j=a.fillStyle,i,o;if(this.barDirection=="vertical")for(b=0;b<c.length;b++){if(this._stack||this.data[b][1]!=null)f=[],i=c[b][0]+this._barNudge,o=this._stack&&this._prevGridData.length?m(this.index,b,this._plotData[b][1],e,"y"):this.fillToZero?this._yaxis.series_u2p(0):this.waterfall&&b>0&&b<this.gridData.length-1?this.gridData[b-1][1]:this.waterfall&&b==0&&b<this.gridData.length-1?this._yaxis.min<=0&&this._yaxis.max>=0?this._yaxis.series_u2p(0):this._yaxis.min>
0?d.canvas.height:0:this.waterfall&&b==this.gridData.length-1?this._yaxis.min<=0&&this._yaxis.max>=0?this._yaxis.series_u2p(0):this._yaxis.min>0?d.canvas.height:0:d.canvas.height,a.fillStyle=this.fillToZero&&this._plotData[b][1]<0||this.waterfall&&this._data[b][1]<0?this.varyBarColor&&!this._stack?this.useNegativeColors?n.next():l.next():k:this.varyBarColor&&!this._stack?l.next():j,!this.fillToZero||this._plotData[b][1]>=0?(f.push([i-this.barWidth/2,o]),f.push([i-this.barWidth/2,c[b][1]]),f.push([i+
this.barWidth/2,c[b][1]]),f.push([i+this.barWidth/2,o])):(f.push([i-this.barWidth/2,c[b][1]]),f.push([i-this.barWidth/2,o]),f.push([i+this.barWidth/2,o]),f.push([i+this.barWidth/2,c[b][1]])),this._barPoints.push(f),h&&!this._stack&&(i=g.extend(!0,{},a),delete i.fillStyle,this.renderer.shadowRenderer.draw(d,f,i)),i=a.fillStyle||this.color,this._dataColors.push(i),this.renderer.shapeRenderer.draw(d,f,a)}else if(this.barDirection=="horizontal")for(b=0;b<c.length;b++)if(this._stack||this.data[b][0]!=
null){f=[];i=c[b][1]-this._barNudge;k=this._stack&&this._prevGridData.length?m(this.index,b,this._plotData[b][0],e,"x"):this.fillToZero?this._xaxis.series_u2p(0):this.waterfall&&b>0&&b<this.gridData.length-1?this.gridData[b-1][0]:this.waterfall&&b==0&&b<this.gridData.length-1?this._xaxis.min<=0&&this._xaxis.max>=0?this._xaxis.series_u2p(0):0:this.waterfall&&b==this.gridData.length-1?this._xaxis.min<=0&&this._xaxis.max>=0?this._xaxis.series_u2p(0):this._xaxis.min>0?0:d.canvas.width:0;if(this.fillToZero&&
this._plotData[b][1]<0||this.waterfall&&this._data[b][1]<0){if(this.varyBarColor&&!this._stack)a.fillStyle=this.useNegativeColors?n.next():l.next()}else a.fillStyle=this.varyBarColor&&!this._stack?l.next():j;!this.fillToZero||this._plotData[b][0]>=0?(f.push([k,i+this.barWidth/2]),f.push([k,i-this.barWidth/2]),f.push([c[b][0],i-this.barWidth/2]),f.push([c[b][0],i+this.barWidth/2])):(f.push([c[b][0],i+this.barWidth/2]),f.push([c[b][0],i-this.barWidth/2]),f.push([k,i-this.barWidth/2]),f.push([k,i+this.barWidth/
2]));this._barPoints.push(f);h&&!this._stack&&(i=g.extend(!0,{},a),delete i.fillStyle,this.renderer.shadowRenderer.draw(d,f,i));i=a.fillStyle||this.color;this._dataColors.push(i);this.renderer.shapeRenderer.draw(d,f,a)}}if(this.highlightColors.length==0)this.highlightColors=g.jqplot.computeHighlightColors(this._dataColors);else if(typeof this.highlightColors=="string"){f=this.highlightColors;this.highlightColors=[];for(b=0;b<this._dataColors.length;b++)this.highlightColors.push(f)}};g.jqplot.BarRenderer.prototype.drawShadow=
function(d,c,a,e){var b,a=a!=void 0?a:{};b=a.showLine!=void 0?a.showLine:this.showLine;var h,f;if(this._stack&&this.shadow&&(this.barWidth==null&&this.renderer.setBarWidth.call(this),f=this._plotSeriesInfo=this.renderer.calcSeriesNumbers.call(this),h=f[1],f=f[2],this._barNudge=this._stack?0:(-Math.abs(h/2-0.5)+f)*(this.barWidth+this.barPadding),b))if(this.barDirection=="vertical")for(b=0;b<c.length;b++){if(this.data[b][1]!=null){h=[];f=c[b][0]+this._barNudge;var g;g=this._stack&&this._prevGridData.length?
m(this.index,b,this._plotData[b][1],e,"y"):this.fillToZero?this._yaxis.series_u2p(0):d.canvas.height;h.push([f-this.barWidth/2,g]);h.push([f-this.barWidth/2,c[b][1]]);h.push([f+this.barWidth/2,c[b][1]]);h.push([f+this.barWidth/2,g]);this.renderer.shadowRenderer.draw(d,h,a)}}else if(this.barDirection=="horizontal")for(b=0;b<c.length;b++)this.data[b][0]!=null&&(h=[],f=c[b][1]-this._barNudge,g=this._stack&&this._prevGridData.length?m(this.index,b,this._plotData[b][0],e,"x"):this.fillToZero?this._xaxis.series_u2p(0):
0,h.push([g,f+this.barWidth/2]),h.push([c[b][0],f+this.barWidth/2]),h.push([c[b][0],f-this.barWidth/2]),h.push([g,f-this.barWidth/2]),this.renderer.shadowRenderer.draw(d,h,a))}})(jQuery);