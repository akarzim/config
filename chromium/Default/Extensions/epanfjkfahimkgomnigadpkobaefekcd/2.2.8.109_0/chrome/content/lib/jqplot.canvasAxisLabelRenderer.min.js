(function(a){a.jqplot.CanvasAxisLabelRenderer=function(b){this.angle=0;this.showLabel=this.show=!0;this.label="";this.fontFamily='"Trebuchet MS", Arial, Helvetica, sans-serif';this.fontSize="11pt";this.fontWeight="normal";this.fontStretch=1;this.textColor="#666666";this.enableFontSupport=!0;this.pt2px=null;this._plotDimensions={height:null,width:null};a.extend(!0,this,b);if(b.angle==null&&this.axis!="xaxis"&&this.axis!="x2axis")this.angle=-90;b={fontSize:this.fontSize,fontWeight:this.fontWeight,fontStretch:this.fontStretch,
fillStyle:this.textColor,angle:this.getAngleRad(),fontFamily:this.fontFamily};if(this.pt2px)b.pt2px=this.pt2px;this._textRenderer=this.enableFontSupport?a.jqplot.support_canvas_text()?new a.jqplot.CanvasFontRenderer(b):new a.jqplot.CanvasTextRenderer(b):new a.jqplot.CanvasTextRenderer(b)};a.jqplot.CanvasAxisLabelRenderer.prototype.init=function(b){a.extend(!0,this,b);this._textRenderer.init({fontSize:this.fontSize,fontWeight:this.fontWeight,fontStretch:this.fontStretch,fillStyle:this.textColor,angle:this.getAngleRad(),
fontFamily:this.fontFamily})};a.jqplot.CanvasAxisLabelRenderer.prototype.getWidth=function(b){if(this._elem)return this._elem.outerWidth(!0);else{var a=this._textRenderer,c=a.getWidth(b),b=a.getHeight(b);return Math.abs(Math.sin(a.angle)*b)+Math.abs(Math.cos(a.angle)*c)}};a.jqplot.CanvasAxisLabelRenderer.prototype.getHeight=function(b){if(this._elem)return this._elem.outerHeight(!0);else{var a=this._textRenderer,c=a.getWidth(b),b=a.getHeight(b);return Math.abs(Math.cos(a.angle)*b)+Math.abs(Math.sin(a.angle)*
c)}};a.jqplot.CanvasAxisLabelRenderer.prototype.getAngleRad=function(){return this.angle*Math.PI/180};a.jqplot.CanvasAxisLabelRenderer.prototype.draw=function(b,d){if(this._elem)a.jqplot.use_excanvas&&window.G_vmlCanvasManager.uninitElement!==void 0&&window.G_vmlCanvasManager.uninitElement(this._elem.get(0)),this._elem.emptyForce(),this._elem=null;var c=d.canvasManager.getCanvas();this._textRenderer.setText(this.label,b);var e=this.getWidth(b),f=this.getHeight(b);c.width=e;c.height=f;c.style.width=
e;c.style.height=f;c=d.canvasManager.initCanvas(c);this._elem=a(c);this._elem.css({position:"absolute"});this._elem.addClass("jqplot-"+this.axis+"-label");return this._elem};a.jqplot.CanvasAxisLabelRenderer.prototype.pack=function(){this._textRenderer.draw(this._elem.get(0).getContext("2d"),this.label)}})(jQuery);